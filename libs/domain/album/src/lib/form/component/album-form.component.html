<section class="album-form" *rxLet="params$; let params">
	<form [formGroup]="params.formGroup">
		<p-tabView>
			<p-tabPanel header="Data">
				<input name="uid" formControlName="uid" hidden />

				<div class="field">
					<span class="p-float-label">
						<p-autoComplete
							formControlName="artist"
							[suggestions]="params.artists"
							[minLength]="3"
							[delay]="400"
							field="name"
							(completeMethod)="searchArtist($event)"
						></p-autoComplete>

						<label for="artist">Artist</label>
					</span>
				</div>

				<div class="field">
					<span class="p-float-label">
						<input
							id="name"
							type="text"
							pInputText
							formControlName="name"
						/>

						<label for="name">Name</label>
					</span>
				</div>

				<div class="field">
					<span class="p-float-label">
						<p-calendar
							id="year"
							formControlName="year"
						></p-calendar>

						<label for="year">Year</label>
					</span>
				</div>

				<div class="field">
					<span class="p-float-label">
						<p-multiSelect
							id="styles"
							[options]="params.styleList"
							[filter]="false"
							formControlName="styles"
							display="chip"
						></p-multiSelect>

						<label for="styles">Styles</label>
					</span>
				</div>
			</p-tabPanel>

			<p-tabPanel header="Images" [disabled]="!params.isImagesTabActive">
				<div class="field">
					<span class="p-float-label">
						<p-autoComplete
							id="coverImage"
							formControlName="coverImage"
							[suggestions]="params.documents"
							[minLength]="3"
							[delay]="400"
							field="name"
							(completeMethod)="searchDocument($event)"
						>
						</p-autoComplete>

						<label for="coverImage">Cover image</label>
					</span>

					<p-image
						*ngIf="params.formGroup.value.coverImage"
						[src]="params.formGroup.value.coverImage?.filePath"
						[preview]="true"
						alt="Image"
						width="200"
					>
					</p-image>
				</div>
			</p-tabPanel>

			<div
				style="margin-top: 10px"
				fxLayout="row"
				fxLayoutAlign="space-around"
			>
				<button
					pButton
					type="button"
					label="Submit"
					(click)="submit()"
					[disabled]="!params.formGroup.valid"
				></button>

				<button
					pButton
					type="button"
					label="Cancel"
					(click)="cancel()"
				></button>
			</div>
		</p-tabView>
	</form>
</section>
