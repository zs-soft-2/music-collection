<section class="artist-form" *ngIf="params$ | async as params">
	<form [formGroup]="params.formGroup">
		<p-tabView>
			<p-tabPanel header="Data">
				<input name="uid" formControlName="uid" hidden />

				<div class="field">
					<span class="p-float-label">
						<input
							id="name"
							type="text"
							pInputText
							formControlName="name"
						/>

						<label for="name">Name</label>
					</span>
				</div>

				<div class="field">
					<span class="p-float-label">
						<textarea
							id="description"
							[rows]="5"
							[cols]="30"
							formControlName="description"
							pInputTextarea
							[autoResize]="true"
						></textarea>

						<label for="description">Description</label>
					</span>
				</div>

				<div class="field">
					<span class="p-float-label">
						<p-calendar
							id="formedIn"
							formControlName="formedIn"
						></p-calendar>

						<label for="formedIn">Formed in</label>
					</span>
				</div>

				<div class="field">
					<span class="p-float-label">
						<p-multiSelect
							id="styles"
							[options]="params.styleList"
							[filter]="false"
							formControlName="styles"
							display="chip"
						></p-multiSelect>

						<label for="styles">Styles</label>
					</span>
				</div>

				<div
					style="margin-top: 10px"
					fxLayout="row"
					fxLayoutAlign="space-around"
				>
					<button
						pButton
						type="button"
						label="Submit"
						(click)="submit()"
						[disabled]="!params.formGroup.valid"
					></button>

					<button
						pButton
						type="button"
						label="Cancel"
						(click)="cancel()"
					></button>
				</div>
			</p-tabPanel>

			<p-tabPanel header="Images" [disabled]="!params.isImagesTabActive">
				<div class="field">
					<span class="p-float-label">
						<p-autoComplete
							id="headerImage"
							formControlName="headerImage"
							[suggestions]="params.documents"
							[minLength]="3"
							[delay]="400"
							field="name"
							(completeMethod)="searchDocument($event)"
						>
						</p-autoComplete>

						<label for="headerImage">Header image</label>
					</span>

					<p-image
						[src]="params.formGroup.value.headerImage.filePath"
						[preview]="true"
						alt="Image"
						width="200"
					>
					</p-image>
				</div>
			</p-tabPanel>
		</p-tabView>
	</form>
</section>
